<!DOCTYPE html>
<!--
  App for negotiating and streaming a sendrecv webrtc stream
  with a GStreamer app. Runs only in passive mode, i.e., responds to offers
  with answers, exchanges ICE candidates, and streams.
-->
<html>

<head>
  <meta charset="utf-8" />
  <style>
    .error {
      color: red;
    }
  </style>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="webrtc.js"></script>
  <script>
    window.onload = websocketServerConnect;
  </script>
</head>

<body>
  <div><video id="stream" autoplay playsinline>Your browser doesn't support video</video></div>
  <div>Status: <span id="status">unknown</span></div>
  <div><textarea id="text" cols=40 rows=4></textarea></div>
  <div>Our id is <b id="peer-id">unknown</b></div>
  <br />
  <div>
    <div>getUserMedia constraints being used:</div>
    <div><textarea id="constraints" cols=40 rows=4></textarea></div>
  </div>

  <br /><br />
  <div>
    <div>Websocket:</div>
    <div><textarea id="websocket-out" cols=40 rows=4>I know what you did last summer</textarea></div>
    <button onclick="uiSendWebsocketMessage()">Send</button>
  </div>

  <br /><br />
  <div>
    <div>DataChannel:</div>
    <div><textarea id="data-out" cols=40 rows=4>We will roam in mars</textarea></div>
    <button onclick="uiSendDataMessage()">Send</button>
  </div>

</body>

</html>